name: UiPath-CI
env: 
  LOCAL_SCRIPT_DIR: C:\Users\riedelna\OneDrive - Sykes Enterprises, Incorporated\Desktop\CIScripts
on: [push]
jobs:
  Build:
    runs-on: self-hosted
    steps:
      - name: Clone repo
        uses: actions/checkout@v3
      - name: Build
        working-directory: ${{ env.LOCAL_SCRIPT_DIR }}
        run: | 
          $packName=py Build.py -i ${{ github.workspace }} -o temp\package
          echo "$packName built..."
        uses: actions/upload-artifact@v3
        with:
          name: ${{ packName }}
          path: ${{ env.LOCAL_SCRIPT_DIR }}\temp\package\Unicorn.Quick.Tutorial.1.0.1657823848.nupkg
          retention-days: 1             
  DevDeploy:
    runs-on: self-hosted
    needs: Build
    steps:
      - name: Deploying
        run: echo "Deployed to Dev"
  TestDeploy:
    runs-on: self-hosted
    needs: Build
    steps:
      - name: Deploying
        run: echo "Deployed to Test"
