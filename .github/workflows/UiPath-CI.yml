name: UiPath-CI
env: 
  LOCAL_SCRIPT_DIR: C:\Users\riedelna\OneDrive - Sykes Enterprises, Incorporated\Desktop\CIScripts
on: [push]
jobs:
  Build:
    runs-on: self-hosted
    steps:
      - name: Clone repo
        uses: actions/checkout@v3
      - name: Build
        working-directory: ${{ env.LOCAL_SCRIPT_DIR }}
        run: | 
          output=$(py "Build.py" -i ${{ github.workspace }} -o temp\package)
          output="${output##*$'\n'}"
          echo "::set-output name=packInfo::$output"
        id: package
      - name: Print-Output
        run: echo ${{ steps.package.outputs.packInfo }}              
  DevDeploy:
    runs-on: self-hosted
    needs: Build
    steps:
      - name: Deploying
        run: echo "Deployed to Dev"
  TestDeploy:
    runs-on: self-hosted
    needs: Build
    steps:
      - name: Deploying
        run: echo "Deployed to Test"
